(this.webpackJsonpnonogram=this.webpackJsonpnonogram||[]).push([[0],[,,,function(e,n,t){e.exports={ColClues:"Clues_ColClues__2Romi",RowClues:"Clues_RowClues__1Qm5X",Clue:"Clues_Clue__3GqRj",incorrect:"Clues_incorrect__3lo5x",complete:"Clues_complete__3TYTS"}},,function(e,n,t){e.exports={Cell:"Cell_Cell__JGzUO",selectUnknown:"Cell_selectUnknown__1Bym8",selectEmpty:"Cell_selectEmpty__35FUd",selectBlack:"Cell_selectBlack__V-G-D",clickable:"Cell_clickable__3ZAG9",Unknown:"Cell_Unknown__3USQO",Empty:"Cell_Empty__2sjFK",Black:"Cell_Black__ecr59",top:"Cell_top__2Gyux",bottom:"Cell_bottom__1G-3X",left:"Cell_left__1cuDS",right:"Cell_right__lVBPk"}},function(e,n,t){e.exports={CellGrid:"CellGrid_CellGrid__8cfMJ",isSolved:"CellGrid_isSolved__vCLhI",row:"CellGrid_row__2jJyw",unsolved:"CellGrid_unsolved__1Puss"}},function(e,n,t){e.exports={App:"App_App__16ZpL",AppHeader:"App_AppHeader__2Hhu3"}},,,,,function(e,n,t){e.exports={X:"X_X__25fxN"}},function(e,n,t){e.exports={Game:"Game_Game__2P9KR"}},,function(e,n,t){e.exports=t(22)},,,,,,function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r,a=t(0),l=t.n(a),o=t(9),u=t.n(o),c=(t(21),t(7)),i=t.n(c),s=t(1),m=function(e,n,t){return e<n?e<=t&&t<=n:n<=t&&t<=e};!function(e){e[e.Unknown=-1]="Unknown",e[e.Empty=0]="Empty",e[e.Black=1]="Black"}(r||(r={}));var f,p=r,v=function(e){return String.fromCharCode(e+383)},h=function(e){return e.charCodeAt(0)-383},_=function(e,n){var t=new RegExp(".{1,".concat(n,"}"),"g");return e.match(t)||[e]},d=function(e){if(e.length>6)throw new Error('String "'.concat(e,'" is more than 6 digits, cannot parse to num 0-63.'));return v(parseInt(e,2))},g=function(e){var n=e.length,t=e[0].length;return function(e){var n=e.length,t=6*Math.ceil(n/6),r=e.padStart(t,"0");return _(r,6).map(d).join("")}(e.map((function(e){return e.map((function(e){return e===p.Unknown?p.Empty:e})).join("")})).join(""))+v(n)+v(t)},k=function(e){var n=e.slice(-2).split("").map(h),t=Object(s.a)(n,2),r=t[0],a=t[1],l=e.slice(0,e.length-2).split("").map((function(e){return function(e){if(e<0||e>=64)throw new Error("Number must be 0 - 63");return e.toString(2).padStart(6,"0")}(h(e))})).join("").slice(-1*r*a);return _(l,a).map((function(e){return e.split("").map((function(e){return+e}))}))},C=t(14),w=function(e){return e.map((function(e){return Object(C.a)(e)}))},b=t(10),E=t(11),y=function(){function e(n){Object(b.a)(this,e),this.arr=void 0,this.name=void 0,this.clues=void 0,Array.isArray(n)?(this.arr=n,this.name="unknown"):(this.arr=k(n.puzzle),this.name=n.name),this.clues=e.buildClues(this.arr)}return Object(E.a)(e,null,[{key:"buildClues",value:function(n){return{rowClues:n.map((function(n){return e.cluesForLine(n)})),colClues:n[0].map((function(t,r){return e.cluesForCol(n,r)}))}}},{key:"cluesForCol",value:function(e,n){for(var t=[],r=0;r<e.length;r++)t.push(e[r][n]);return this.cluesForLine(t)}},{key:"cluesForLine",value:function(e){for(var n=[],t=0;t<e.length;t++){for(var r=0;!r&&e[t]<p.Black;)t++;for(;e[t]>=p.Black;)r++,t++;r&&n.push(r)}return n}}]),e}(),j=function(e,n){return{name:e,puzzle:n}},O=[j("pi","\u0180\u01bc\u0191\u01a4\u018a\u0184\u0184"),j("house","\u017f\u0190\u01b6\u01b9\u01b6\u0184\u0184"),j("heart","\u0180\u01ae\u01be\u01b6\u0183\u0184\u0184"),j("arrow","\u017f\u0190\u0186\u01b3\u0183\u0184\u0184"),j("skull","\u017f\u01ba\u01bc\u019e\u01a9\u0184\u0184"),j("plane","\u017f\u0192\u01be\u01b1\u018d\u0184\u0184"),j("cross","\u017f\u01ba\u019b\u019c\u01ad\u0184\u0184"),j("tower","\u0180\u0196\u01ba\u01a4\u018d\u0184\u0184"),j("hourglass","\u0180\u01bc\u0190\u0186\u019e\u0184\u0184"),j("shuriken","\u0180\u018e\u01b1\u01a6\u01b8\u0184\u0184"),j("tulip","\u0194\u01be\u01bc\u01b0\u0189\u01ad\u0186\u0184"),j("yin yang","\u017f\u019b\u0192\u0194\u01b8\u01bb\u01ac\u019b\u019b\u0186\u0186"),j("leaf","\u017f\u01be\u0184\u0193\u01b4\u01a4\u0199\u0194\u01b8\u0197\u01a6\u01bd\u0187\u0190\u019d\u018b\u017f\u0189\u0189"),j("music","\u017f\u018e\u0186\u0183\u0190\u01b0\u01b8\u0183\u0183\u0190\u01b6\u018e\u01bb\u01be\u01b0\u01a5\u017f\u0189\u0189"),j("cat","\u0188\u017f\u01bb\u0180\u018f\u01be\u0181\u01be\u0188\u01bd\u01a6\u01b9\u019e\u01a8\u01bd\u01a6\u01bd\u0189\u0189"),j("tapir","\u018e\u01be\u01af\u017f\u017f\u01be\u017f\u017f\u019e\u01b7\u017f\u018e\u01bd\u0197\u0182\u01b8\u01bd\u0180\u01bc\u01ae\u017f\u019e\u01ae\u01b7\u018e\u01be\u01be\u0182\u01be\u01be\u01af\u01be\u01bd\u01bb\u018e\u01b6\u01be\u0182\u01bc\u01be\u01af\u019e\u01ae\u01bb\u01be\u01bc\u01be\u01b8\u01b2\u01a2\u01bb\u019b\u01b7\u019e\u0186\u018d\u0182\u01b0\u01b2\u019f\u01bb\u019b\u01b7\u018e\u01a6\u01ae\u017f\u0193\u0193")],A=[j("smiley","\u017f\u01a8\u018f\u0187\u01ad\u0184\u0184"),j("vampire","\u0186\u01ba\u01be\u01a5\u0198\u01a6\u01a6\u019e\u01a2\u01af\u01a3\u0187\u0187")],M=[].concat(O,A),S=t(2),U=t(4),G=t.n(U);!function(e){e[e.left=0]="left",e[e.middle=1]="middle",e[e.right=2]="right"}(f||(f={}));var x,B=f,N=function(e,n){return n!==B.left&&n!==B.right?null:(t=n===B.left?e===p.Unknown?p.Black:p.Unknown:e===p.Unknown?p.Empty:p.Unknown,console.debug(n,e,t),t);var t};!function(e){e[e.top=0]="top",e[e.bottom=1]="bottom",e[e.left=2]="left",e[e.right=3]="right"}(x||(x={}));var L,D=x,F=t(12),R=t.n(F),X=function(){return l.a.createElement("svg",{className:R.a.X,viewBox:"0 0 100 100"},l.a.createElement("path",{d:"M 7,7 L 93,93 M 93,7 L 7,93"}))},z=t(5),J=t.n(z),V=l.a.memo((function(e){var n=e.coord,t=e.clickable,r=e.value,a=e.handleMouseDown,o=e.handleMouseOver,u=e.selected,c=e.newVal,i=null!==c?J.a["select"+p[c]]:"",s=G()(Object(S.a)({},J.a.clickable,t),i,u.map((function(e){return J.a[D[e]]})),J.a.Cell);return l.a.createElement("div",{draggable:!1,className:s},l.a.createElement("div",{onDragStart:function(e){return e.preventDefault()},draggable:!1,className:J.a[p[r]],onMouseDown:function(e){return a(e,n)},onMouseOver:function(e){return o(e,n)},onContextMenu:function(e){e.preventDefault(),a(e,n)}},r===p.Empty&&l.a.createElement(X,null)))})),H=t(6),I=t.n(H),P=function(e){var n,t=e.gameArr,r=e.setGameArr,o=e.isSolved,u=Object(a.useState)(null),c=Object(s.a)(u,2),i=c[0],f=c[1],v=Object(a.useState)(null),h=Object(s.a)(v,2),_=h[0],d=h[1],g=Object(a.useState)(null),k=Object(s.a)(g,2),C=k[0],b=k[1],E=function(e,n){o||(f(n),b(N(t[n[0]][n[1]],e.button)))},y=function(e){if(null!==C&&null!==i){var n=function(e,n,t,r){for(var a=[n[0],t[0]].sort((function(e,n){return e-n})),l=Object(s.a)(a,2),o=l[0],u=l[1],c=[n[1],t[1]].sort((function(e,n){return e-n})),i=Object(s.a)(c,2),m=i[0],f=i[1],v=w(e),h=o;h<=u;h++)for(var _=m;_<=f;_++)e[h][_]!==p.Unknown&&r!==p.Unknown||(v[h][_]=r);return v}(t,i,_||i,C);r(n)}f(null),d(null)},j=function(e,n){i&&d(n)},O=function(e){var n=Object(s.a)(e,2),t=n[0],r=n[1],a=[];if(!i||!function(e){var n=Object(s.a)(e,2),t=n[0],r=n[1];return!!i&&(_?m(i[0],_[0],t)&&m(i[1],_[1],r):t===i[0]&&r===i[1])}([t,r]))return a;var l=_?[Math.min(i[0],_[0]),Math.min(i[1],_[1]),Math.max(i[0],_[0]),Math.max(i[1],_[1])]:[i[0],i[1],i[0],i[1]],o=Object(s.a)(l,4),u=o[0],c=o[1],f=o[2],p=o[3];return t===u&&a.push(D.top),r===c&&a.push(D.left),t===f&&a.push(D.bottom),r===p&&a.push(D.right),a},A=t.map((function(e,n){return l.a.createElement("div",{className:I.a.row,key:e.toString()+n},e.map((function(e,t){return l.a.createElement(V,{coord:[n,t],newVal:C,clickable:!o,handleMouseDown:E,handleMouseOver:j,value:o&&e===p.Empty?p.Unknown:e,selected:O([n,t]),key:"".concat(n,",").concat(t)})})))}));return l.a.createElement("div",{className:G()((n={},Object(S.a)(n,I.a.CellGrid,!0),Object(S.a)(n,I.a.isSolved,o),Object(S.a)(n,I.a.unsolved,!o),n)),onMouseUp:y,onMouseLeave:y},A)},K=function(e,n){var t=y.cluesForLine(n);if(t.length===e.length&&t.every((function(n,t){return n===e[t]})))return e.map((function(e){return!0}));var r=e.map((function(e){return!1})),a=[0],l=!0,o=!1,u=void 0;try{for(var c,i=n[Symbol.iterator]();!(l=(c=i.next()).done);l=!0){var s=c.value;if(-1===s)break;s>0&&a[a.length-1]++,0===s&&a[a.length-1]&&a.push(0)}}catch(d){o=!0,u=d}finally{try{l||null==i.return||i.return()}finally{if(o)throw u}}for(var m=0;m<a.length;m++)a[m]===e[m]&&(r[m]=!0);for(var f=[0],p=n.length-1;p>=0;p--){var v=n[p];if(-1===v)break;v>0&&f[f.length-1]++,0===v&&f[f.length-1]&&f.push(0)}for(var h=0;h<f.length;h++){var _=e.length-h-1;f[h]===e[_]&&(r[_]=!0)}return r},Q=t(3),T=t.n(Q),W=function(e){var n=e.val,t=e.complete,r=G()(T.a.Clue,Object(S.a)({},T.a.complete,t));return l.a.createElement("div",{className:r},n)},Z=function(e){var n=e.clues,t=e.gameArr,r=n.map((function(e,n){return K(e,(r=n,t.map((function(e){return e[r]}))));var r}));return l.a.createElement("div",{className:T.a.ColClues},n.map((function(e,n){return l.a.createElement("div",{key:e+":"+n},e.map((function(e,t){return l.a.createElement(W,{key:n+""+t,val:e,complete:r[n][t]})})))})))},q=function(e){var n=e.clues,t=e.gameArr,r=n.map((function(e,n){return K(e,t[n])}));return l.a.createElement("div",{className:T.a.RowClues},n.map((function(e,n){return l.a.createElement("div",{key:e+":"+n},e.map((function(e,t){return l.a.createElement(W,{key:n+""+t,val:e,complete:r[n][t]})})))})))},Y=function(e){e.gameArr;return l.a.createElement("div",null)},$=t(13),ee=t.n($),ne=!1,te=new y(ne?(L=10,new Array(10).fill(null).map((function(e){return new Array(L).fill(p.Unknown)}))):function(e){return e[(n=0,t=e.length-1,n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n)];var n,t}(M)),re=function(){var e=Object(a.useState)(te.arr.map((function(e){return e.map((function(e){return p.Unknown}))}))),n=Object(s.a)(e,2),t=n[0],r=n[1],o=!function(e,n){if(ne)return!0;for(var t=0;t<e.length;t++)for(var r=0;r<e[t].length;r++){var a=e[t][r],l=n.arr[t][r];if((l===p.Black||a===p.Black)&&a!==l)return!0}return!1}(t,te);Object(a.useEffect)((function(){o&&console.log(te.name,"SOLVED!")}),[o]);return l.a.createElement("div",{className:ee.a.Game,tabIndex:0,onKeyPress:function(e){"~"===e.key&&t&&console.log(g(t))}},l.a.createElement(Y,{gameArr:t}),l.a.createElement(Z,{clues:te.clues.colClues,gameArr:t}),l.a.createElement(q,{clues:te.clues.rowClues,gameArr:t}),l.a.createElement(P,{isSolved:o,gameArr:t,setGameArr:r}))},ae=function(){return l.a.createElement("div",{className:i.a.App},l.a.createElement("header",{className:i.a.AppHeader},"Nonograms"),l.a.createElement(re,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(l.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[15,1,2]]]);
//# sourceMappingURL=main.280d280f.chunk.js.map